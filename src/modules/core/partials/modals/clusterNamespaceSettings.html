<div class="modal-header">
  <h4 class="modal-title" id="gridSystemModalLabel"><i class="fa fa-cog"></i> Cluster/Namespace settings</h4>
</div>
<div class="modal-body">
  <div class="container-fluid" style="padding-left:0;padding-right:0;">
    <div class="row">
      <div class="col-md-6">
        <h4><i class="fa fa-server"></i> Available clusters</h4>
        <k8s-loading promise="ctrl.clusterPromise" style="margin:auto">
          Please wait...
        </k8s-loading>
        <div class="alert alert-danger" ng-if="ctrl.errorLoadingClusters">
          Error loading clusters: {{Â ctrl.errorLoadingClusters }}
        </div>
        <div class="alert alert-warning" ng-if="ctrl.clusters.length === 0 && !ctrl.errorLoadingClusters">
          No Kubernetes clusters available.<br />
          Please add a your cluster(s) now.
        </div>
        <ul class="list-unstyled" style="margin-top: 20px" ng-if="!ctrl.errorLoadingClusters">
          <li ng-repeat="cluster in ctrl.clusters"><div class="radio"><label for="{{ cluster.uid }}"><input type="radio" name="cluster" id="{{ cluster.uid }}" ng-value="cluster.uid" ng-model="ctrl.selectedClusterUid" checked="checked" ng-model="ctrl.currentClusterUid" ng-change="ctrl.loadNamespaces()"><strong>{{ cluster.name }}</strong> ({{ cluster.kubeApiUrl }}) <br /><a href="javascript:;" ng-click=""><i class="fa fa-trash"></i> Delete</a></label></div></li>
        </ul>
        <hr>
        <h4>Add cluster</h4>
        <div class="alert alert-info small">
          <i class="fa fa-info-circle"></i> Note: Auth mechanisms are currently not supported.
        </div>
        <form class="form" name="addCluster" ng-submit="ctrl.createCluster()">
          <div class="form-group">
            <input type="text" class="form-control" ng-model="ctrl.newCluster.name" placeholder="Name (required)">
          </div>
          <div class="form-group">
              <input type="url" class="form-control" id="clusterAPI" ng-model="ctrl.newCluster.kubeApiUrl" placeholder="kube-apiserver URL" />           
          </div>
          <div class="form-controls">
            <button class="btn btn-success" type="submit" style="padding-top: 7px"><i class="fa fa-plus"></i> Add cluster</button>
          </div>
        </form>
      </div>
      <div class="col-md-6">
        <h4><i class="fa fa-cubes"></i> Available namespaces</h4>
        <k8s-loading promise="ctrl.namespacePromise"></k8s-loading>
        <div class="alert alert-danger" ng-if="ctrl.errorLoadingNamespaces">
          Error loading namespaces: {{ ctrl.errorLoadingNamespaces }}
        </div>
        <ul class="list-unstyled" style="margin-top: 20px" ng-if="!ctrl.errorLoadingNamespaces">
          <li ng-repeat="ns in ctrl.namespaces"><div class="radio"><label for="{{ ns.metadata.name }}"><input type="radio" name="ns" id="{{ ns.metadata.name }}" checked="checked" ng-model="ctrl.selectedNamespaceName" ng-value="ns.metadata.name">{{ ns.metadata.name }}</label></div></li>
        </ul>
        <hr>
        <h4>Create namespace</h4>
        <form class="form" name="createNamespaceForm" ng-submit="ctrl.createNamespace()">
          <div class="form-group">
            <div class="input-group">
              <input type="ip" class="form-control" id="namespaceNameField" placeholder="Name" required ng-model="ctrl.newNamespaceName" ng-maxlength="63" ng-pattern="/[a-z0-9]+/" />
              <span class="input-group-btn">
                <button class="btn btn-success" type="submit" style="padding-top: 7px" ng-disabled="createNamespaceForm.$invalid"><i class="fa fa-plus"></i> Add</button>
              </span>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
<div class="modal-footer">
  <button type="button" class="btn btn-default" ng-if="ctrl.isClosable" ng-click="$dismiss()">Cancel</button>
  <button type="button" class="btn btn-primary" ng-disabled="!ctrl.selectedClusterUid || !ctrl.selectedNamespaceName"ng-click="ctrl.useCurrentSettings()">Use settings</button>
</div>